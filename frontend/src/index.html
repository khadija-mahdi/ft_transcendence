<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>FT_Transcendence</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="./style.css">
</head>

<body>
	<!-- Main application container -->
	<main id="app"></main>

	<!-- External JavaScript -->
	<script type="module" src="./main.js"></script>

	<!-- Inline JavaScript for conditional content -->
	<script>
		const path = window.location.pathname;
		if (path.startsWith('/sign')) {

			const headerHTML = `
				<div class="header">
					<div class="logo">
						<img id = "logo-42" src="components/auth/42_logo.svg" alt="intra logo">
						<p>Transcendence</p>
					</div>
					<div class="authBar">
						<div class="radio-group">
							<div class="radio-container">
								<input type="radio" name="auth" id="sign-in" value="sign-in" ${path.includes('/sign_in') ? 'checked' : ''}>
								<label for="sign-in" class="radio-label">Sign in</label>
							</div>
							<div class="radio-container">
								<input type="radio" name="auth" id="sign-up" value="sign-up" ${path.includes('/sign_up') ? 'checked' : ''}>
								<label for="sign-up" class="radio-label">Sign Up</label>
							</div>
						</div>
					</div>
				</div>
			`;

			document.body.insertAdjacentHTML('afterbegin', headerHTML);

			document.querySelectorAll('input[name="auth"]').forEach((radio) => {
				radio.addEventListener('change', function () {
					if (this.checked) {
						if (this.value === 'sign-in') {
							history.pushState(null, null, '/sign_in');
							window.location.reload();
						} else if (this.value === 'sign-up') {
							history.pushState(null, null, '/sign_up');
							window.location.reload();
						}
					}
				});
			});

		}
		else {
			 router = `    
			 	<nav>
					<a href="/" data-link>Home</a>
					<a href="/chat" data-link>Chat</a>
					<a href="/auth" data-link>Auth</a>
				</nav>`
			document.body.insertAdjacentHTML('afterbegin', router);
		} 

	</script>
</body>

</html>